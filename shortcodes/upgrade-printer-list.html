<ul id="upgrades-list-%%printerId%%" class="upgrade-list"></ul>
<script type="text/javascript">
    const getBrowserUpgradePrinterList = function() {
        var ua= navigator.userAgent, tem,
        M= ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
        if(/trident/i.test(M[1])){
            tem=  /\brv[ :]+(\d+)/g.exec(ua) || [];
            return 'IE '+(tem[1] || '');
        }
        if(M[1]=== 'Chrome'){
            tem= ua.match(/\b(OPR|Edge)\/(\d+)/);
            if(tem!= null) return tem.slice(1).join(' ').replace('OPR', 'Opera');
        }
        M= M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];
        if((tem= ua.match(/version\/(\d+)/i))!= null) M.splice(1, 1, tem[1]);
        return M.join(' ');
    };
    // upgradesList
    const upgradesList = document.querySelector('#upgrades-list-%%printerId%%');

    fetch('https://api-3dmakernow.herokuapp.com/printer/%%printerId%%?authentication=3DMAKERNOW&printFeaturesInfo=true')
        .then(function (response) {
            return response.json();
        }).then(function (data) {
            const { toPrintFeatures } = data;
            let contentItems = '';
            toPrintFeatures.map(item => {
                contentItems += `<li class="upgrade-list-item">
                    <div style="background: url(${item.image})" class="upgrade-list-item-image"></div>
                    <span class="upgrade-list-item-title">${item.feature}</span>
                    <span class="upgrade-list-item-description">${item.description}</span>
                    <a class="upgrade-list-item-link" href="${item.url}" target="_blank" target="_blank" rel="noopener nofollow noreferrer">
                        <img src="https://3dmakernow.com/wp-content/uploads/2018/05/${item.type}_logo.svg" alt="${item.feature}" style="width:25px;height:25px;margin-right:8px;">
                        Ver en ${item.type}</a>
                </li>`
            });
            upgradesList.innerHTML = contentItems;
        }).catch(error => {
          fetch(`https://api-3dmakernow.herokuapp.com/error-notification/%%printerId%%?authentication=3DMAKERNOW&&shortcode=upgrade-printer-list&&error=${error}&&browser=${getBrowserUpgradePrinterList()}`)
            .then(data => error)
        });
</script>
